window.Genki={problems:0,solved:0,mistakes:0,score:0,path:".."+window.location.pathname.replace(/.*?\/lesson-\d+(\/.*)/,"$1"),lang:{std_drag:"Read the Japanese on the left and drag the word with the same meaning to it.",std_kana:"Drag the Kana to the matching Romaji.",std_num:"Drag the Numbers to the matching Kana.",std_kanji:"Drag the Kana to the matching Kanji.",std_multi:"Solve the problems by choosing the correct answers.",std_questions:"Answer the questions as best as you can.",mistakes:'The items outlined in <span class="t-red">red</span> were answered wrong before finding the correct answer. Review these problems before trying again.',multi_mistakes:'The answers you selected that were wrong are outlined in <span class="t-red">red</span>. The correct answers are outlined in <span class="t-orange">orange</span>. Review these problems before trying again.'},scrollTo:function(e,s){var o=function(){document.body.scrollTop=e.offsetTop,document.documentElement.scrollTop=e.offsetTop};s?o():window.setTimeout(o,100)},generateQuiz:function(e){var s=document.getElementById("quiz-zone");if("drag"==e.type){var o='<div id="quiz-info">'+e.info+'</div><div id="question-list">',n='<div id="drop-list">',a=[];for(c in e.quizlet)a.push(c);for(d=a.slice(0);a.length;)o+='<div class="quiz-item">'+a[c=Math.floor(Math.random()*a.length)]+"</div>",n+='<div class="quiz-answer-zone" data-text="'+a[c]+'" data-mistakes="0"></div>',a.splice(c,1),++Genki.problems;for(o+="</div>"+n+"</div>",o+='<div id="answer-list">';d.length;)o+='<div class="quiz-item" data-answer="'+d[c=Math.floor(Math.random()*d.length)]+'">'+e.quizlet[d[c]]+"</div>",d.splice(c,1);o+="</div>",s.innerHTML=o}if("kana"==e.type){o='<div id="quiz-info">'+e.info+'</div><div id="question-list" class="clear">';for(var i,r='<div id="answer-list">',t=[],l=e.quizlet,c=l.length-1;c>-1;c--){o+='<div class="quiz-column">';for(i in l[c])o+='<div class="quiz-item-row"><div class="quiz-answer-zone" data-text="'+l[c][i]+'" data-mistakes="0"></div><div class="quiz-item">'+l[c][i]+"</div></div>",t.push('<div class="quiz-item" data-answer="'+l[c][i]+'">'+i+"</div>"),++Genki.problems;o+="</div>"}for(;t.length;)r+=t[c=Math.floor(Math.random()*t.length)],t.splice(c,1);s.innerHTML=o+"</div>"+r+"</div>"}if("verb"==e.type){o='<div id="quiz-info">'+e.info+'</div><div id="question-list"><div class="quiz-column-title"></div>',n='<div id="drop-list">',r=[],a=[];var d,u=-1;for(c in e.quizlet)a.push(c);for(d=a.slice(0),n+='<div class="quiz-title-row">';++u<e.columns.length;)n+='<div class="quiz-column-title">'+e.columns[u]+"</div>";for(n+="</div>";a.length;){for(u=-1,o+='<div class="quiz-item">'+a[c=Math.floor(Math.random()*a.length)]+"</div>",n+='<div class="quiz-answer-row">';++u<e.columns.length;)n+='<div class="quiz-answer-zone" data-text="'+a[c]+"-"+u+'" data-mistakes="0"></div>',++Genki.problems;n+="</div>",a.splice(c,1)}for(o+="</div>"+n+"</div>",c=0,g=d.length;c<g;c++)for(u=-1;++u<e.columns.length;)r.push('<div class="quiz-item" data-answer="'+d[c]+"-"+u+'">'+e.quizlet[d[c]][u]+"</div>");for(o+='<div id="answer-list">';r.length;)o+=r[c=Math.floor(Math.random()*r.length)],r.splice(c,1);o+="</div>",s.innerHTML=o}if("multi"==e.type){o='<div id="quiz-info">'+e.info+'</div><div id="question-list">',r='<div id="answer-list">';for(var p,m=["A","B","C","D"],k=0,b=!1,v=e.quizlet,g=(c=0,v.length);c<g;c++){for(o+='<div id="quiz-q'+c+'" class="question-block" data-qid="'+(c+1)+'" style="display:none;"><div class="quiz-multi-question">'+v[c].question+"</div>";v[c].answers.length;)p=Math.floor(Math.random()*v[c].answers.length),/^A/.test(v[c].answers[p])&&(v[c].answers[p]=v[c].answers[p].slice(1),b=!0),o+='<div class="quiz-multi-row"><button class="quiz-multi-answer" data-answer="'+b+'" data-option="'+m[k++]+'" onclick="Genki.progressQuiz(this);">'+v[c].answers[p]+"</button></div>",b=!1,v[c].answers.splice(p,1);o+="</div>",k=0,++Genki.problems}s.innerHTML=o+'</div><div id="quiz-progress"><div id="quiz-progress-bar"></div></div>',Genki.progressQuiz("init")}if("drag"==e.type||"kana"==e.type||"verb"==e.type){var h=dragula([document.querySelector("#answer-list")],{isContainer:function(e){return e.classList.contains("quiz-answer-zone")}});h.on("drop",function(e,s,o){s.dataset.text&&(e.dataset.answer!=s.dataset.text?(document.getElementById("answer-list").appendChild(e),s.dataset.mistakes=++s.dataset.mistakes,++Genki.mistakes):(s.className+=" answer-correct",++Genki.solved==Genki.problems&&Genki.endQuiz()))}),Genki.drake=h}var I=new Timer,y=document.getElementById("quiz-timer");y.innerHTML="00:00:00",I.start(),I.addEventListener("secondsUpdated",function(e){y.innerHTML=I.getTimeValues().toString()}),Genki.timer=I,document.getElementById("exercise").className+=" content-loaded "+e.type+"-quiz",Genki.scrollTo(document.getElementById("quiz-info"))},incProgressBar:function(){var e=document.getElementById("quiz-progress-bar"),s=Math.floor((Genki.solved+1)/Genki.problems*100);e.style.width=s+"%",e.innerHTML='<span id="quiz-progress-text">'+(Genki.solved+1)+"/"+Genki.problems+"</span>"},progressQuiz:function(e){if("init"==e)document.getElementById("quiz-q"+Genki.solved).style.display="",Genki.incProgressBar();else{e.className+=" selected-answer","false"==e.dataset.answer&&(e.parentNode.parentNode.className+=" wrong-answer",++Genki.mistakes);var s=document.getElementById("quiz-q"+Genki.solved++),o=document.getElementById("quiz-q"+Genki.solved);if(o)o.style.display="",s.style.display="none",Genki.incProgressBar();else{Genki.endQuiz(!0);for(var n=document.querySelectorAll('[id^="quiz-q"]'),a=0,i=n.length;a<i;a++)n[a].style.display="";document.getElementById("quiz-progress").style.display="none"}}},endQuiz:function(e){Genki.score=Math.floor(100*(Genki.solved-Genki.mistakes)/Genki.problems),Genki.timer.stop();var s=document.getElementById("quiz-timer");s.style.display="none",document.getElementById("quiz-result").innerHTML='<div id="complete-banner" class="center">Quiz Complete!</div><div id="result-list"><div class="result-row"><span class="result-label">Problems Solved:</span>'+Genki.problems+'</div><div class="result-row"><span class="result-label">Answers Wrong:</span>'+Genki.mistakes+'</div><div class="result-row"><span class="result-label">Score:</span>'+Genki.score+'%</div><div class="result-row"><span class="result-label">Completion Time:</span>'+s.innerHTML+'</div><div class="result-row center">'+(100==Genki.score?"PERFECT! Great Job, you have mastered this quiz! Feel free to move on or challenge yourself by trying to beat your completion time.":Genki.score>70?"Nice work! "+Genki.lang[e?"multi_mistakes":"mistakes"]:"Keep studying! "+Genki.lang[e?"multi_mistakes":"mistakes"])+'<div class="center"><a href="'+Genki.path+'" class="button">Try Again</a><a href="'+document.getElementById("home-link").href+'" class="button">Back to Index</a></div></div></div>',document.getElementById("exercise").className+=" quiz-over",Genki.scrollTo(document.getElementById("complete-banner"))},review:function(){if(confirm("Are you sure you want to review? Your current progress will be lost.")){for(var e=document.querySelectorAll("[data-answer]"),s=0,o=e.length;s<o;s++)document.querySelector('[data-text="'+e[s].dataset.answer+'"]').appendChild(e[s]);Genki.timer.stop(),Genki.drake.destroy(),document.getElementById("quiz-timer").style.display="none",document.getElementById("review-exercise").innerHTML='<a href="'+Genki.path+'" class="button">Restart</a>',document.getElementById("quiz-info").innerHTML='You are currently in review mode; go ahead and take your time to study. When you are ready to practice this exercise, click the "restart" button.'}},toggleExercises:function(){var e=document.getElementById("exercise-list");e.className="list-open"==e.className?"":"list-open"},toggleList:function(e){var s="lesson-title",o=s+" lesson-open";e.className=e.className==o?s:o;for(var n=e.parentNode.querySelectorAll(".lesson-title"),a=0,i=n.length;a<i;a++)n[a]!=e&&(n[a].className=s)}},function(){var e=!1;if("file:"==window.location.protocol){for(var s=0,o=(n=document.querySelectorAll('a[href$="/"]')).length;s<o;s++)/http/.test(n[s].href)||(n[s].href+="index.html");e=!0}if(Genki.local=e,/\/lessons\//.test(window.location.pathname)){for(var n,a,i=["lesson-0/hiragana-1|Hiragana|p.24-25","lesson-0/hiragana-2|Hiragana: Diacritical Marks|p.25","lesson-0/hiragana-3|Hiragana: Combos|p.25-26","lesson-0/katakana-1|Katakana|p.28","lesson-0/katakana-2|Katakana: Diacritical Marks|p.28-29","lesson-0/katakana-3|Katakana: Combos|p.29","lesson-0/katakana-4|Katakana: Additional Combos|p.30","lesson-0/match-1|Match: Hiragana and Katakana|p.24 & 28","lesson-0/greetings|Greetings|p.34-35","lesson-0/greetings-practice|Practice: Greetings|p.37","lesson-0/culture-1|Culture Note: Greetings and Bowing|p.37","lesson-0/workbook-1|Workbook: Greetings|p.11-12","lesson-1/vocab-1|Vocabulary: Part 1|p.40","lesson-1/vocab-2|Vocabulary: Part 2|p.40","lesson-1/vocab-3|Vocabulary: Countries|p.41","lesson-1/vocab-4|Vocabulary: Majors|p.41","lesson-1/vocab-5|Vocabulary: Occupations|p.41","lesson-1/vocab-6|Vocabulary: Family|p.41","lesson-1/culture-1|Culture Note: Japanese Names|p.45","lesson-1/numbers-1|Numbers: 0-10|p.46-47","lesson-1/numbers-2|Numbers: 11-20, 30, 40...|p.48","lesson-1/numbers-3|Practice: Numbers|p.48; I-A, B & C","lesson-1/time-1|Time|p.49","lesson-1/time-2|Practice: Time|p.49-50; II-A & B","lesson-1/phone-1|Practice: Telephone Numbers|p.50; III-A","lesson-1/grammar-1|Practice: の|p.51; IV","lesson-1/grammar-2|Practice: Describing People|p.51-52; V-A","lesson-1/grammar-3|Practice: Q&A|p.52-53; V-B","lesson-1/grammar-4|Practice: Describing People 2|p.53-54; VI-A","lesson-1/grammar-5|Practice: Q&A 2|p.54; VI-B","lesson-1/time-3|Time: Minutes|p.57","lesson-1/age-1|Age|p.57","lesson-1/vocab-7|Bonus Vocabulary: Words in Genki|p.24-57","lesson-1/workbook-1|Workbook: Numbers|p.13","lesson-1/workbook-2|Workbook: Time|p.14; I","lesson-1/workbook-3|Workbook: Telephone Numbers|p.14; II","lesson-1/workbook-4|Workbook: NounのNoun|p.15; I","lesson-1/workbook-5|Workbook: XはYです|p.15; II","lesson-1/workbook-6|Workbook: Question Sentences|p.16; I & II","lesson-1/workbook-7|Workbook: Questions|p.19","lesson-2/vocab-1|Vocabulary: Words that Point|p.60","lesson-2/vocab-2|Vocabulary: Food|p.60","lesson-2/vocab-3|Vocabulary: Things|p.60-61","lesson-2/vocab-4|Vocabulary: Places|p.61","lesson-2/vocab-5|Vocabulary: Money and Expressions|p.61","lesson-2/culture-1|Culture Note: Japanese Currency|p.68","lesson-2/numbers-1|Numbers: Hundreds|p.69","lesson-2/numbers-2|Numbers: Thousands|p.69","lesson-2/numbers-3|Numbers: Ten Thousands|p.69","lesson-2/numbers-4|Practice: Numbers|p.69; I-A","lesson-2/numbers-5|Practice: Prices|p.69-70; I-B","lesson-2/grammar-1|Practice: これ, それ, and あれ|p.71-72; II-A & B","lesson-2/grammar-2|Practice: この, その, and あの|p.72-73; III-A","lesson-2/grammar-3|Practice: Asking for Directions|p.74; IV","lesson-2/grammar-4|Practice: Giving Directions|p.74; IV","lesson-2/grammar-5|Practice: も|p.75-76; VI","lesson-2/grammar-6|Practice: Negative Statements|p.76; VII-A","lesson-2/vocab-6|Bonus Vocabulary: Food|p.79","lesson-2/vocab-7|Bonus Vocabulary: Classroom Objects|p.83","lesson-2/vocab-8|Useful Expressions: In the Classroom|p.83","lesson-2/workbook-1|Workbook: Numbers|p.20; I, II, & III","lesson-2/workbook-2|Workbook: これ, それ, and あれ|p.21; I & II","lesson-2/workbook-3|Workbook: この, その, and あの|p.22","lesson-2/workbook-4|Workbook: ここ, そこ, and あそこ・だれの|p.23; I & II","lesson-2/workbook-5|Workbook: Noun も|p.24; I","lesson-2/workbook-6|Workbook: Noun じゃないです|p.24; II","lesson-2/workbook-7|Workbook: Questions|p.26","lesson-3/vocab-1|Vocabulary: Entertainment and Sports|p.86","lesson-3/vocab-2|Vocabulary: Food and Drinks|p.86","lesson-3/kanji-1|Kanji: Entertainment and Food|p.86","lesson-3/vocab-3|Vocabulary: Places and Time|p.86-87","lesson-3/kanji-2|Kanji: Places and Time|p.86-87","lesson-3/vocab-4|Vocabulary: U-verbs|p.87","lesson-3/kanji-3|Kanji: U-verbs|p.87","lesson-3/vocab-5|Vocabulary: Ru-verbs and Irregular verbs|p.87","lesson-3/vocab-6|Vocabulary: Adverbs|p.87","lesson-3/vocab-7|Vocabulary: Adjectives and Expressions|p.87","lesson-3/kanji-4|Kanji: Verbs and Adjectives|p.87","lesson-3/grammar-1|Practice: Verb Conjugation|p.95; I-A","lesson-3/grammar-2|Practice: を and で|p.95-96; I-B","lesson-3/grammar-3|Practice: Indicating the Goal of Movement|p.96; I-C","lesson-3/grammar-4|Practice: Time Expressions|p.98; II-A","lesson-3/grammar-5|Practice: Time Expressions 2|p.98; II-C","lesson-3/grammar-6|Practice: Making Suggestions|p.99; III-A","lesson-3/culture-1|Culture Note: Japanese Houses|p.101","lesson-3/workbook-1|Workbook: Verb Conjugation|p.27","lesson-3/workbook-2|Workbook: Noun を Verb|p.28","lesson-3/workbook-3|Workbook: Verbs with Places|p.29; I & II","lesson-3/workbook-4|Workbook: Time Expressions|p.30; I","lesson-3/workbook-5|Workbook: Time References|p.30; II & III","lesson-3/workbook-6|Workbook: Suggestion Using ～ませんか|p.31; I & II","lesson-3/workbook-7|Workbook: Frequency Adverbs|p.32","lesson-3/workbook-8|Workbook: Questions|p.35","lesson-4/vocab-1|Vocabulary: People and Things|p.104","lesson-4/kanji-1|Kanji: People and Things|p.104","lesson-4/vocab-2|Vocabulary: Activities and Places|p.104","lesson-4/kanji-2|Kanji: Activities and Places|p.104","lesson-4/vocab-3|Vocabulary: Time|p.105","lesson-4/kanji-3|Kanji: Time|p.105","lesson-4/vocab-4|Vocabulary: U-verbs and Ru-verbs|p.105","lesson-4/vocab-5|Vocabulary: Adverbs and Expressions|p.105","lesson-4/kanji-4|Kanji: Verbs|p.105","lesson-4/vocab-6|Vocabulary: Location Words|p.106","lesson-4/kanji-5|Kanji: Location Words|p.106","lesson-4/culture-1|Culture Note: Japanese National Holidays|p.114","lesson-4/grammar-1|Practice: Ｘがあります|p.116; I-C","lesson-4/grammar-2|Practice: Describing Locations|p.117; II-A & B","lesson-4/grammar-3|Practice: Past Tense of です|p.118; III-A","lesson-4/grammar-4|Practice: Past Tense of Verbs|p.120; IV-A","lesson-4/grammar-5|Practice: Past Tense|p.120; IV-B","lesson-4/grammar-6|Practice: Past Tense 2|p.121; IV-C & D","lesson-4/grammar-7|Practice: も|p.122; V-A","lesson-4/grammar-8|Practice: Descriptions Using も|p.122-123; V-B","lesson-4/grammar-9|Practice: ～時間|p.123; VI-A","lesson-4/vocab-7|Bonus Vocabulary: Days 1-15|p.127","lesson-4/vocab-8|Bonus Vocabulary: Days 16-31|p.127","lesson-4/vocab-9|Bonus Vocabulary: Months|p.127","lesson-4/kanji-6|Bonus Kanji: Months|p.127","lesson-4/vocab-10|Useful Expressions: Time Words|p.127","lesson-4/kanji-7|Useful Expressions: Time Words Kanji|p.127","lesson-4/workbook-1|Workbook: Ｘがあります／います|p.36; I & II","lesson-4/workbook-2|Workbook: Describing Where Things Are|p.37; I & II","lesson-4/workbook-3|Workbook: Past Tense (Nouns)|p.38; I & II","lesson-4/workbook-4|Workbook: Verb Conjugation (Past Tense)|p.39","lesson-4/workbook-5|Workbook: Past Tense (Verbs)|p.40; I & II","lesson-4/workbook-6|Workbook: も|p.41","lesson-4/workbook-7|Workbook: ～時間・Particles|p.42; I & II","lesson-4/workbook-8|Workbook: Questions|p.44","lesson-5/vocab-1|Vocabulary: Nouns|p.130","lesson-5/kanji-1|Kanji: Nouns|p.130","lesson-5/vocab-2|Vocabulary: い-adjectives|p.130-131","lesson-5/kanji-2|Kanji: い-adjectives|p.130-131","lesson-5/vocab-3|Vocabulary: な-adjectives|p.131","lesson-5/kanji-3|Kanji: な-adjectives|p.131","lesson-5/vocab-4|Vocabulary: Verbs and Expressions|p.131","lesson-5/kanji-4|Kanji: Verbs and Expressions|p.131","lesson-5/grammar-1|Practice: Affirmative Adjective Conjugation|p.137; I-A","lesson-5/grammar-2|Practice: Negative Adjective Conjugation|p.137; I-B"],r=(s=0,o=i.length,document.getElementById("quiz-timer")),t=window.location.pathname.replace(/.*?\/lessons\/(.*?\/.*?)\/.*/g,"$1"),l='<div id="more-exercises" class="clear">';s<o&&t!=i[s].split("|")[0];s++);for(a=i[s]?i[s].split("|"):null,o=2;o-- >0;)(n=i[1==o?s-1:s+1])&&(l+='<a href="../../../lessons/'+(n=n.split("|"))[0]+(e?"/index.html":"/")+'" class="button '+(1==o?"prev":"next")+'-ex" title="'+(1==o?"Previous":"Next")+' exercise">'+n[1]+"</a>");document.getElementById("quiz-result").insertAdjacentHTML("beforebegin",'<h2 id="exercise-title" class="center">'+(a?"第"+a[0].replace(/lesson-(\d+).*/,"$1")+"課 - "+a[1]:document.querySelector("TITLE").innerText.replace(/\s\|.*/,""))+"</h2>"),r.insertAdjacentHTML("afterend",l+"</div>"),r.insertAdjacentHTML("beforebegin",'<div id="review-exercise" class="center"><button class="button" onclick="Genki.review();">Review</button></div>');var c,d='<nav id="exercise-list"><h3 class="main-title">Exercise List</h3><div id="lessons-list"><h4 class="lesson-title" onclick="Genki.toggleList(this);">Pre-Lesson</h4><ul id="lesson-0">',u="lesson-0",p=!1;for(s=0,o=i.length;s<o;s++)c=i[s].split("|"),new RegExp(u).test(c[0])||(d+='</ul><h4 class="lesson-title" onclick="Genki.toggleList(this);">'+(u=c[0].replace(/(lesson-\d+)\/.*/,"$1")).charAt(0).toUpperCase()+u.replace(/-/," ").slice(1)+'</h4><ul id="'+u+'">',p=!1),!p&&/workbook-\d+/.test(c[0])&&(d+='<li><h4 class="workbook-title">Workbook Exercises</h4></li>',p=!0),d+='<li><a href="../../../lessons/'+c[0]+(e?"/index.html":"/")+'" data-page="'+c[2]+'" title="'+c[1]+'">'+c[1]+"</a></li>";document.getElementById("content").insertAdjacentHTML("afterbegin",d+'</ul></div></nav><div id="toggle-exercises" onclick="Genki.toggleExercises();" title="Toggle exercise list"></div>'),a&&(Genki.toggleList(document.getElementById(a[0].replace(/(lesson-\d+)\/.*/,"$1")).previousSibling),document.querySelector('a[href*="'+a[0]+'"]').className+=" active-lesson")}}();