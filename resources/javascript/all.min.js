!function(e,t){"use strict";if(storageOK&&"3rd"==localStorage.GenkiEdition&&/\/privacy\/|\/report\/|\/help\/|\/donate\/|\/download\//.test(e.location.pathname)&&(t.getElementById("home-link").href+="lessons-3rd/",t.getElementById("footer-home").href+="lessons-3rd/"),t.getElementById("announcement")&&(e.GenkiAnn={rotation:!1,edition:/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd",msg:[{date:"10/26/24",content:'<a href="https://ko-fi.com/post/GenkiTobira-Recent-Updates-Future-Plans-Z8Z6158OWB" target="_blank">Click here</a> to learn about the recent updates made to the website as well as my future plans.'},{content:'Interested in learning Japanese? Check out <a href="'+getPaths()+'help/japanese-guide/">our guide</a> for more information on how to learn the language, as well as useful tools that you can utilize in your studies!'},{edition:"2nd",content:'Looking for more self-study resources? Visit the official <a href="http://genki.japantimes.co.jp/self_en">self-study room</a> for Genki or check out some of the resources in the <a href="https://github.com/SethClydesdale/genki-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{edition:"3rd",content:'Looking for more self-study resources? Visit the official <a href="https://genki3.japantimes.co.jp/en/student/">self-study room</a> for Genki or check out some of the resources in the <a href="https://github.com/SethClydesdale/genki-study-resources#resources-for-studying-japanese">readme</a> on GitHub.'},{content:'Want to stay up to date on the latest changes made to Genki Study Resources? You can follow updates via <a href="https://github.com/SethClydesdale/genki-study-resources/commits/master">GitHub</a>, <a href="https://twitter.com/search?q=(%23GenkiStudyResources)%20(from%3Asethc1995)&src=typed_query&f=live">Twitter</a>, or <a href="https://ko-fi.com/sethc95/posts">Ko-fi</a>. Feel free to also contact us on <a href="https://github.com/SethClydesdale/genki-study-resources/discussions">the forum</a> if you have any questions or feedback.'},{content:'Have a question about the site? Check out the <a href="'+getPaths()+"help/\">FAQ</a>! If you can't find an answer to your question, feel free to contact us via <a href=\"https://github.com/SethClydesdale/genki-study-resources/issues\">GitHub's issues</a> and we'll try to answer your question in a timely manner."},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Genki Study Resources can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this tool helpful for studying with Genki, please consider making <a href="'+getPaths()+'donate/">a donation</a> to help support my work. Thank you!'}],index:0,list:t.getElementById("announce-list"),next:function(t,n){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof t?(GenkiAnn.index+=t,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&n&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,15e3)},init:function(){if(GenkiAnn.msg.length>1){t.getElementById("announcement-controls").style.display="";for(var e=0,n=GenkiAnn.msg.length,a="",o=!0;e<n;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(a+='<div class="announcement'+(o?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",o&&(o=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",a),GenkiAnn.msg=t.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}},GenkiAnn.init()),"file:"==e.location.protocol)for(var n=t.getElementsByTagName("A"),a=0,o=n.length;a<o;a++)/http/.test(n[a].href)||(/\/$/.test(n[a].href)?n[a].href+="index.html":/\/#.*?$/.test(n[a].href)?n[a].href=n[a].href.replace(/(#.*?)$/,"index.html$1"):/\/\?.*?$/.test(n[a].href)&&(n[a].href=n[a].href.replace(/(\?.*?)$/,"index.html$1")));var i=t.getElementById("content").querySelectorAll("h1, h2, h3, h4, h5, h6");for(a=0,o=i.length;a<o;a++)i[a].id&&i[a].insertAdjacentHTML("afterbegin",'<a href="#'+i[a].id+'" class="anchor fa"><span class="anchor-icon">&#xf0c1;</span></a>');if(storageOK){var s=t.querySelector("footer"),r=t.createElement("LABEL"),l=t.createElement("DIV"),c=t.createElement("A");r.id="light-switch",r.tabIndex=0,r.innerHTML='<input id="light-switch-checkbox" type="checkbox" '+("on"==localStorage.darkMode?'checked="true"':"")+"/><div></div>",r.onkeyup=function(e){"Enter"==e.key&&this.firstChild.click()},r.firstChild.onchange=function(){var n,a=t.documentElement;if(this.checked?(localStorage.darkMode="on",(n=t.createElement("LINK")).id="dark-mode",n.rel="stylesheet",n.href=getPaths()+"resources/css/stylesheet-dark.min.css",t.head.appendChild(n),a.className+=" dark-mode"):(localStorage.darkMode="off",(n=t.getElementById("dark-mode"))&&t.head.removeChild(n),a.className=a.className.replace(" dark-mode","")),e.KanjiCanvas){KanjiCanvas.darkMode=!!t.querySelector(".dark-mode"),KanjiCanvas.quizOver=!!t.querySelector(".quiz-over");for(var o=t.querySelectorAll(".kanji-canvas"),i=0,s=o.length;i<s;i++)KanjiCanvas["canvas_"+o[i].id]&&KanjiCanvas.redraw(o[i].id,!0,!!e.Genki&&Genki.strokeNumberDisplay)}},l.id="light-switch-container",l.innerHTML='<label id="light-switch-label" for="light-switch-checkbox">Dark Mode </label>',c.id="genki-site-settings",c.innerHTML='<i class="fa">&#xf013;</i>',c.title="Site Settings",c.href="#",c.onclick=function(){return!t.getElementById("genki-modal")&&(GenkiSettings.manager(),!1)},l.appendChild(r),l.appendChild(c),s.appendChild(l)}else{s=t.querySelector("footer");(l=t.createElement("DIV")).id="light-switch-container",l.innerHTML='<a href="'+getPaths()+"help/stuck-loading/"+("file:"==e.location.protocol?"index.html":"")+'"><strong>Where is Dark Mode?</strong></a>',s.appendChild(l)}t.addEventListener("keydown",function(e){if(e.ctrlKey&&e.altKey||e.metaKey&&e.shiftKey){var n;switch(e.key.toLowerCase()){case"left":case"arrowleft":n=t.querySelector(".prev-ex");break;case"right":case"arrowright":n=t.querySelector(".next-ex");break;case"e":n=t.getElementById("toggle-exercises");break;case"q":n=t.getElementById("quick-jisho-toggle");break;case"d":n=t.getElementById("light-switch");break;case"f":n=t.getElementById("toggle-furigana");break;case"r":n=t.getElementById("random-exercise");break;case"m":n=t.getElementById("genki-site-settings");break;case"c":n=t.getElementById("check-answers-button")}n&&(e.preventDefault(),n.click())}if("multi"==Genki.active.type&&e.altKey&&/a|b|c|d/i.test(e.key)){var a=t.querySelector("#quiz-q"+Genki.stats.solved+' div[data-option="'+e.key.toUpperCase()+'"]');a&&(a.click(),e.preventDefault())}})}(window,document);