!function(e,a){"use strict";if(navigator.cookieEnabled&&!offlineEdge&&e.localStorage&&"3rd"==localStorage.GenkiEdition&&/\/privacy\/|\/report\/|\/help\/|\/donate\/|\/download\//.test(e.location.pathname)&&(a.getElementById("home-link").href+="lessons-3rd/",a.getElementById("footer-home").href+="lessons-3rd/"),"file:"==e.location.protocol)for(var t=a.getElementsByTagName("A"),r=0,n=t.length;r<n;r++)/http/.test(t[r].href)||(/\/$/.test(t[r].href)?t[r].href+="index.html":/\/#.*?$/.test(t[r].href)?t[r].href=t[r].href.replace(/(#.*?)$/,"index.html$1"):/\/\?.*?$/.test(t[r].href)&&(t[r].href=t[r].href.replace(/(\?.*?)$/,"index.html$1")));var o=a.getElementById("content").querySelectorAll("h1, h2, h3, h4, h5, h6");for(r=0,n=o.length;r<n;r++)o[r].id&&o[r].insertAdjacentHTML("afterbegin",'<a href="#'+o[r].id+'" class="anchor fa"><span class="anchor-icon">&#xf0c1;</span></a>');if(navigator.cookieEnabled&&!offlineEdge&&e.localStorage){var l=a.querySelector("footer"),i=a.createElement("LABEL"),d=a.createElement("DIV");i.id="light-switch",i.tabIndex=0,i.innerHTML='<input id="light-switch-checkbox" type="checkbox" '+("on"==e.localStorage.darkMode?'checked="true"':"")+"/><div></div>",i.onkeyup=function(e){"Enter"==e.key&&this.firstChild.click()},i.firstChild.onchange=function(){var t,r=a.documentElement;if(this.checked?(e.localStorage.darkMode="on",(t=a.createElement("LINK")).id="dark-mode",t.rel="stylesheet",t.href=getPaths()+"resources/css/stylesheet-dark.min.css",a.head.appendChild(t),r.className+=" dark-mode"):(e.localStorage.darkMode="off",(t=a.getElementById("dark-mode"))&&a.head.removeChild(t),r.className=r.className.replace(" dark-mode","")),e.KanjiCanvas){KanjiCanvas.darkMode=!!a.querySelector(".dark-mode"),KanjiCanvas.quizOver=!!a.querySelector(".quiz-over");for(var n=a.querySelectorAll(".kanji-canvas"),o=0,l=n.length;o<l;o++)KanjiCanvas["canvas_"+n[o].id]&&KanjiCanvas.redraw(n[o].id,!0)}},d.id="light-switch-container",d.innerHTML='<label id="light-switch-label" for="light-switch-checkbox">Dark Mode </label>',d.appendChild(i),l.appendChild(d)}}(window,document);