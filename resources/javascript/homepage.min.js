!function(e,t){"use strict";function o(o){e.GenkiSearchTimeout&&e.clearTimeout(GenkiSearchTimeout),e.GenkiSearchTimeout=e.setTimeout(function(){var n,r=t.createDocumentFragment(),c=0,d=0;if(s.innerHTML="",o)for(;d<i;d++)-1!=l[d].innerText.toLowerCase().indexOf(o.toLowerCase())&&l[d].getElementsByTagName("A")[0]&&((n=l[d].cloneNode(!0)).dataset.lesson=n.getElementsByTagName("A")[0].href.replace(/.*?\/(lesson-\d+).*|.*?\/(study-tools).*|.*?\/(appendix).*/,function(e,t,o,n){return t?t.charAt(0).toUpperCase()+t.split("-").pop():o?"tool":n?"appendix":void 0}),n.title=l[d].innerText,/^file|^http/.test(n.dataset.lesson)||(r.appendChild(n),c++));r.childNodes.length?s.appendChild(r):s.innerHTML=o?'<li>No exercises found for "'+o+'".</li>':"",a.innerHTML=c?"("+c+') <a class="fa" style="color:#F93;" href="#copy-search-link" title="Copy the search link" onclick="GenkiModal.open({title : \'Copy Search Link\',content : \'<div class=&quot;center&quot;><p>You can copy the direct search link from the box below.</p><textarea id=&quot;copied-search-link&quot; onfocus=&quot;this.select();&quot; style=&quot;width:80%;height:100px;&quot;>'+e.location.protocol+"//"+e.location.host+e.location.pathname+"?search="+encodeURIComponent(o)+"#quick-search-exercises</textarea></div>',focus : '#copied-search-link'}); return false;\">&#xf0ea;</a>":"",delete e.GenkiSearchTimeout},300)}storageOK&&(localStorage.GenkiEdition=/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd");var n=t.getElementById("quick-search"),s=t.getElementById("quick-search-results"),a=t.getElementById("quick-search-hits"),l=t.querySelectorAll(".lesson-exercises li"),i=l.length;if(e.location.search)for(var r,c=e.location.search.slice(1).split("&"),d=0,u=c.length;d<u;d++)if(r=c[d].split("="),/^search$/i.test(r[0])){n.value=decodeURIComponent(r[1]);break}n.oninput=function(){o(this.value)},n.value&&o(n.value);var p;for(d=0,u=(f=t.querySelectorAll("#quick-nav-list a")).length;d<u;d++)/lesson-\d+/.test(f[d])&&(p=f[d].href.replace(/.*?lesson-(\d+).*/,"$1"),f[d].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, '+p+'); return false;" title="Toggle sub-sections" data-open="false"></a>'),f[d].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),f[d].parentNode.className+=" noBullet");if(e.ToggleSubSection=function(e,o){var n=e.parentNode.lastChild;if(!n.innerHTML){for(var s=t.querySelectorAll("#exercises-"+o+" h3"),a=0,l=s.length,i="";a<l;a++)i+='<li><a href="#'+s[a].id+'">'+s[a].innerText.replace(/\s\(.*\)$/,"")+"</a></li>";n.innerHTML=i}/none/.test(n.style.display)?(n.style.display="block",e.dataset.open=!0):(n.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","quick-nav","Jump to Quick Navigation"),storageOK&&localStorage.Results){var h,f,g=JSON.parse(localStorage.Results)[/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd"];for(h in g)(f=t.querySelector('a[href*="'+h+'"]'))&&f.parentNode.insertAdjacentHTML("beforeend",'&nbsp;<span class="exercise-results result--'+(100==g[h]?"perfect":g[h]>=70?"good":g[h]>=50?"average":"low")+'" title="Exercise score"><i class="fa">'+(100==g[h]?"&#xf005;":g[h]>=70?"&#xf00c;":g[h]>=50?"&#xf10c;":"&#xf00d;")+"</i> "+g[h]+"%</span>")}}(window,document);