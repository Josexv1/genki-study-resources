!function(e,t){"use strict";function n(n){e.GenkiSearchTimeout&&e.clearTimeout(GenkiSearchTimeout),e.GenkiSearchTimeout=e.setTimeout(function(){var o,a=t.createDocumentFragment(),c=0,d=0;if(i.innerHTML="",n)for(;d<l;d++)-1!=r[d].innerText.toLowerCase().indexOf(n.toLowerCase())&&r[d].getElementsByTagName("A")[0]&&((o=r[d].cloneNode(!0)).dataset.lesson=o.getElementsByTagName("A")[0].href.replace(/.*?\/(lesson-\d+).*|.*?\/(study-tools).*|.*?\/(appendix).*/,function(e,t,n,o){return t?t.charAt(0).toUpperCase()+t.split("-").pop():n?"tool":o?"appendix":void 0}),o.title=r[d].innerText,/^file|^http/.test(o.dataset.lesson)||(a.appendChild(o),c++));a.childNodes.length?i.appendChild(a):i.innerHTML=n?'<li>No exercises found for "'+n+'".</li>':"",s.innerHTML=c?"("+c+') <a class="fa" style="color:#F60;" href="#copy-search-link" title="Copy the search link" onclick="GenkiModal.open({title : \'Copy Search Link\',content : \'<div class=&quot;center&quot;><p>You can copy the direct search link from the box below.</p><textarea id=&quot;copied-search-link&quot; onfocus=&quot;this.select();&quot; style=&quot;width:80%;height:100px;&quot;>'+e.location.protocol+"//"+e.location.host+e.location.pathname+"?search="+encodeURIComponent(n)+"#quick-search-exercises</textarea></div>',focus : '#copied-search-link'}); return false;\">&#xf0ea;</a>":"",delete e.GenkiSearchTimeout},300)}storageOK&&(localStorage.GenkiEdition=/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd"),e.GenkiAnn={rotation:!1,edition:/lessons-3rd/.test(e.location.pathname)?"3rd":"2nd",msg:[{content:'The 3rd Edition version of Genki Study Resources is currently under construction and will be expanded over time. You can follow updates to these resources via <a href="https://github.com/SethClydesdale/genki-study-resources/commits/master">GitHub</a> or <a href="https://twitter.com/search?q=(%23GenkiStudyResources)%20(from%3Asethc1995)&src=typed_query&f=live">Twitter</a>. Furthermore, if you have any feedback regarding the 3rd edition resources, feel free to let me know <a href="https://github.com/SethClydesdale/genki-study-resources/discussions/83">here</a>. Thank you!',edition:"3rd"},{content:'Want to stay up to date on the latest changes made to Genki Study Resources? You can follow updates via <a href="https://github.com/SethClydesdale/genki-study-resources/commits/master">GitHub</a> or <a href="https://twitter.com/search?q=(%23GenkiStudyResources)%20(from%3Asethc1995)&src=typed_query&f=live">Twitter</a>. Feel free to also contact us on <a href="https://github.com/SethClydesdale/genki-study-resources/discussions">the forum</a> if you have any questions or feedback.',edition:"2nd"},{content:'Looking for more self-study resources? Visit the official <a href="http://genki.japantimes.co.jp/self_en">self-study room</a> for Genki or check out some of the resources in the <a href="https://github.com/SethClydesdale/genki-study-resources#resources-for-studying-japanese">readme</a> on GitHub. If you use Anki to study vocab, you can find decks for the vocab on Genki Study Resources <a href="'+getPaths()+'help/anki-decks/">here</a>!'},{content:'Have a question about the site? Check out the <a href="'+getPaths()+"help/\">FAQ</a>! If you can't find an answer to your question, feel free to contact us via <a href=\"https://github.com/SethClydesdale/genki-study-resources/issues\">GitHub's issues</a> and we'll try to answer your question in a timely manner."},{content:'Find a bug or mistake on the site? Want to submit a suggestion or give us feedback? Check out the <a href="'+getPaths()+"report/\">report page</a> for more information. We'd love to hear from you!"},{content:"Don't have a network connection all the time? Genki Study Resources can be used offline as well! Head on over to the <a href=\""+getPaths()+'download/">download page</a> to get the latest release.'},{content:'If you found this tool helpful for studying with Genki, please consider making <a href="'+getPaths()+'donate/">a donation</a> to help support my work. Thank you!'}],index:0,list:t.getElementById("announce-list"),next:function(t,n){GenkiAnn.msg[GenkiAnn.index].className+=" announce-hidden","number"==typeof t?(GenkiAnn.index+=t,-1==GenkiAnn.index&&(GenkiAnn.index=GenkiAnn.msg.length-1)):GenkiAnn.index++,GenkiAnn.msg[GenkiAnn.index]||(GenkiAnn.index=0),GenkiAnn.msg[GenkiAnn.index].className=GenkiAnn.msg[GenkiAnn.index].className.replace(" announce-hidden",""),GenkiAnn.rotation&&n&&(e.clearInterval(GenkiAnn.rotator),GenkiAnn.rotate())},rotate:function(){GenkiAnn.rotator=e.setInterval(GenkiAnn.next,15e3)},init:function(){if(GenkiAnn.msg.length>1){t.getElementById("announcement-controls").style.display="";for(var e=0,n=GenkiAnn.msg.length,o="",i=!0;e<n;e++)GenkiAnn.msg[e].edition&&GenkiAnn.msg[e].edition.toLowerCase()!=GenkiAnn.edition||(o+='<div class="announcement'+(i?"":" announce-hidden")+'">'+(GenkiAnn.msg[e].date?'<span class="date">'+GenkiAnn.msg[e].date+"</span>":"")+GenkiAnn.msg[e].content+"</div>",i&&(i=!1));GenkiAnn.list.insertAdjacentHTML("beforeend",o),GenkiAnn.msg=t.querySelectorAll(".announcement"),GenkiAnn.rotation&&GenkiAnn.rotate()}}},GenkiAnn.init();var o=t.getElementById("quick-search"),i=t.getElementById("quick-search-results"),s=t.getElementById("quick-search-hits"),r=t.querySelectorAll(".lesson-exercises li"),l=r.length;if(e.location.search)for(var a,c=e.location.search.slice(1).split("&"),d=0,u=c.length;d<u;d++)if(a=c[d].split("="),/^search$/i.test(a[0])){o.value=decodeURIComponent(a[1]);break}o.oninput=function(){n(this.value)},o.value&&n(o.value);var p,h=t.querySelectorAll("#quick-nav-list a");for(d=0,u=h.length;d<u;d++)/lesson-\d+/.test(h[d])&&(p=h[d].href.replace(/.*?lesson-(\d+).*/,"$1"),h[d].insertAdjacentHTML("beforebegin",'<a class="sub-section-button fa" href="#toggle-sub-section" onclick="ToggleSubSection(this, '+p+'); return false;" title="Toggle sub-sections" data-open="false"></a>'),h[d].insertAdjacentHTML("afterend",'<ul style="display:none;"></ul>'),h[d].parentNode.className+=" noBullet");e.ToggleSubSection=function(e,n){var o=e.parentNode.lastChild;if(!o.innerHTML){for(var i=t.querySelectorAll("#exercises-"+n+" h3"),s=0,r=i.length,l="";s<r;s++)l+='<li><a href="#'+i[s].id+'">'+i[s].innerText.replace(/\s\(.*\)$/,"")+"</a></li>";o.innerHTML=l}/none/.test(o.style.display)?(o.style.display="block",e.dataset.open=!0):(o.style.display="none",e.dataset.open=!1)},AddJumpArrowsTo(".lesson-title","quick-nav","Jump to Quick Navigation"),e._scrollSpider={config:{side:"right",offset:"0px",tooltip:"ハッピーハロウィン！🎃",image:getPaths()+"resources/images/spider.png",web:"background-color:#000;width:2px;height:999em;position:absolute;right:42%;bottom:95%;"},move:function(){_scrollSpider.spider.style.top=(t.body.scrollTop+t.documentElement.scrollTop)/(t.documentElement.scrollHeight-t.documentElement.clientHeight)*100+"%"},goingUp:!1,toTop:function(){if(!_scrollSpider.goingUp&&(t.body.scrollTop||t.documentElement.scrollTop)){var n=t.body.scrollTop?t.body:t.documentElement;_scrollSpider.goingUp=!0,_scrollSpider.scroll={top:n.scrollTop,body:n,by:(t.documentElement.scrollHeight-t.documentElement.clientHeight)/100,window:e.setInterval(function(){_scrollSpider.scroll.top>0?(_scrollSpider.scroll.body.scrollTop=_scrollSpider.scroll.top-=_scrollSpider.scroll.by,_scrollSpider.move()):(e.clearInterval(_scrollSpider.scroll.window),_scrollSpider.goingUp=!1)},10)}}},applyOffset:function(){var t=_scrollSpider.spider.getElementsByTagName("IMG")[0];t&&t.complete?(_scrollSpider.spider.style.marginTop="-"+t.height+"px",_scrollSpider.spider.style.display=""):e.addEventListener("load",_scrollSpider.applyOffset)},init:function(){var n=t.createElement("DIV");n.id="scrollSpider",n.innerHTML='<div style="'+_scrollSpider.config.web+'"></div><img src="'+_scrollSpider.config.image+'" onclick="_scrollSpider.toTop();" style="cursor:pointer;" title="'+_scrollSpider.config.tooltip+'">',n.style.position="fixed",n.style[/left|right/i.test(_scrollSpider.config.side)?_scrollSpider.config.side:"right"]=_scrollSpider.config.offset,n.style.top="0%",n.style.display="none",t.body.appendChild(n),_scrollSpider.spider=n,_scrollSpider.move(),_scrollSpider.applyOffset(),e.addEventListener("scroll",_scrollSpider.move)}},t.addEventListener&&t.addEventListener("DOMContentLoaded",_scrollSpider.init)}(window,document);