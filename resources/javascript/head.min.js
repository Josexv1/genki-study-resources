!function(e,t){"use strict";e.offlineEdge="file:"==e.location.protocol&&/Edge/.test(navigator.userAgent),e.storageOK=!(!navigator.cookieEnabled||offlineEdge||!e.localStorage),e.GenkiModal={open:function(i){i=i||{},GenkiModal.close();var n,o,s=t.createElement("DIV");return s.id="genki-modal",s.innerHTML='<div id="genki-modal-overlay"'+("low"==i.zIndex?' style="z-index:1;"':"")+'></div><div id="genki-modal-body" style="'+("low"==i.zIndex?"z-index:2;":"")+(i.customSize?"top:"+i.customSize.top+";right:"+i.customSize.right+";bottom:"+i.customSize.bottom+";left:"+i.customSize.left+";":"")+'"><h2 id="genki-modal-header">'+(i.title?i.title:"Popup")+'</h2><div id="genki-modal-content">'+(i.content?i.content:"")+'</div><div id="genki-modal-buttons" class="center">'+(i.noClose?"":'<button id="genki-modal-close" class="button" onclick="GenkiModal.close();">Close</button>')+"</div></div>",i.callback&&(n=t.createElement("BUTTON"),o=s.querySelector("#genki-modal-buttons"),n.innerText=i.buttonText?i.buttonText:"OK",n.id="genki-modal-ok",n.className="button",n.onclick=function(){i.callback(),!i.keepOpen&&GenkiModal.close()},o.insertBefore(n,o.firstChild)),t.body.style.overflow="hidden",t.body.appendChild(s),i.focus?t.querySelector(i.focus).focus():i.noFocus||t.getElementById("genki-modal-"+(i.callback?"ok":"close")).focus(),e.Genki&&Genki.timer&&Genki.timer.isRunning()&&Genki.timer.pause(),i},close:function(){var i=t.getElementById("genki-modal");i&&(t.body.style.overflow="",t.body.removeChild(i)),e.Genki&&Genki.timer&&Genki.timer.isPaused()&&Genki.timer.start()}},e.CreateCustomInputs=function(){for(var e=t.querySelectorAll('input[type="checkbox"], input[type="radio"]'),i=0,n=e.length;i<n;i++)/light-switch-checkbox|genki_input_hidden/g.test(e[i].outerHTML)||(e[i].className+=" genki_input_hidden",e[i].insertAdjacentHTML("afterend",'<span tabindex="0" class="genki_pseudo_'+e[i].type+'" onclick="this.previousSibling.click();" onkeypress="event.key == \'Enter\' && this.previousSibling.click();"/>'))},e.AddJumpArrowsTo=function(e,i,n){for(var o=t.querySelectorAll(e),s=0,a=o.length;s<a;s++)o[s].insertAdjacentHTML("beforeEnd",'<a href="#'+(i||"")+'" class="jump-arrow fa" title="'+(n||"")+'">&#xf062;</a>')},e.getPaths=function(){var t=e.location.pathname;return/\/lessons\/|\/lessons-3rd\/.*?\//.test(t)?"../../../":/\/help\/.*?\//.test(t)?"../../":/\/lessons-3rd\/|\/report\/|\/download\/|\/donate\/|\/privacy\/|\/help\/(index|$)/.test(t)?"../":""},e.GenkiSettings={manager:function(){var e=+localStorage.genkiFontSize||100,t=+localStorage.genkiPageWidth||100,i=localStorage.genkiRandomExercise||"all";GenkiSettings.stylesheet||GenkiSettings.createStylesheet(),GenkiModal.open({title:"Settings Manager",content:'<p>Here you can manage global settings for Genki Study Resources to help customize your experience.</p><div class="section-title">Display</div><ul class="genki-settings-list"><li><span class="label" title="Increases the font size for the site">Font Size:</span><input id="font-size-range" type="range" min="100" max="500" value="'+e+'" oninput="GenkiSettings.updateFontSize(this);" onchange="GenkiSettings.updateFontSize(this, true);"><span id="font-size-value">'+e+'%</span></li><li><span class="label" title="Increases the maximum page width for the site (up to the size of your screen)">Page Width:</span><input id="page-width-range" type="range" min="100" max="500" value="'+t+'" oninput="GenkiSettings.updatePageWidth(this);" onchange="GenkiSettings.updatePageWidth(this, true);"><span id="page-width-value">'+t+'%</span></li></ul><div class="section-title">Other</div><ul class="genki-settings-list"><li><span class="label" title="Changes the range for the Random Exercise button in the exercise list (change to Current Lesson if you want to avoid exercises above your current level)">Random Exercise:</span><select id="random-exercise-type" onchange="GenkiSettings.updateRandomExercise(this);"><option value="all"'+("all"==i?" selected":"")+'>All Lessons</option><option value="lesson"'+("lesson"==i?" selected":"")+">Current Lesson</option></select></li></ul>",buttonText:"Close",noFocus:!0,customSize:{top:"5%",left:"10%",bottom:"5%",right:"10%"}})},updatePageWidth:function(e,t){var i=(e?+e.value:localStorage.genkiPageWidth)/100;e&&(e.nextSibling.innerText=e.value+"%"),t&&(/\/\*PAGE-WIDTH-START\*\//.test(GenkiSettings.stylesheet.innerText)&&(GenkiSettings.stylesheet.innerText=GenkiSettings.stylesheet.innerText.replace(/\/\*PAGE-WIDTH-START\*\/.*?\/\*PAGE-WIDTH-END\*\//,"")),GenkiSettings.stylesheet.innerText+="/*PAGE-WIDTH-START*/.content-block, #announce-inner { max-width:"+1e3*i+"px }/*PAGE-WIDTH-END*/"),e&&(localStorage.genkiPageWidth=e.value)},updateFontSize:function(e,i){var n=(e?+e.value:localStorage.genkiFontSize)/100;if(e&&(e.nextSibling.innerText=e.value+"%"),i&&(/\/\*FONT-SIZE-START\*\//.test(GenkiSettings.stylesheet.innerText)&&(GenkiSettings.stylesheet.innerText=GenkiSettings.stylesheet.innerText.replace(/\/\*FONT-SIZE-START\*\/.*?\/\*FONT-SIZE-END\*\//,"")),GenkiSettings.stylesheet.innerText+="/*FONT-SIZE-START*/.kana-quiz.quiz-over [data-mistakes]:after { font-size:"+8*n+"px }.quiz-over .vocab-horizontal [data-mistakes]:after, .verb-quiz.quiz-over [data-mistakes]:after { font-size:"+10*n+"px }.define, #announcement .announcement .date, #quick-search-results li[data-lesson]:before, .writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before, .furigana, .inline-furi i, ruby rt, .secondary-answer, .def-ja.def-furi i { font-size:"+11*n+"px }#exercise-title:after, .title[data-page]:after, #exercise-list li a[data-page]:hover:after, #exercise-list li a[data-page]:focus:after, .leg-desc, .sectionNumber3rd { font-size:"+12*n+"px }body, .button:not(.play-button), a.button, .lesson-summary, .kanji-readings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, #exercise-list .lesson-title, #exercise-list .sub-lesson-title, .image-list span i { font-size:"+13*n+'px }p, input[type="text"], input[type="number"], textarea, select, #announcement .announcement, #link-list span, .workbook-title, .normal-block, .quiz-over [data-mistakes]:after, #wrongAnswer:before, .writing-quiz .quiz-item, input.writing-zone-input, .quiz-multi-question, .quiz-multi-answer, .text-block, .fill-quiz .writing-zone-input, .problem-hint, .problem-answer, .definition { font-size:'+14*n+"px }#genki-modal-content { font-size:"+15*n+"px }#link-list i, #exercise:before, .loading:before, .sub-lesson-title, .workbook-title, .title-desc, #exercise .text-passage, #complete-banner, #downloadCode:before, .definition-count { font-size:"+16*n+"px }.group-selectors .select-all:before, .group-selectors .deselect-all:before { font-size:"+17*n+"px }.button .fa, .more-exercises a:after, .more-exercises a:before, #link-github i, #link-help i, .title-med, .sub-title, #exercise-list .main-title, .quiz-multi-answer:before, #genki-site-settings, .dictionary-index li, #quick-jisho-title { font-size:"+18*n+"px }#quick-actions h2, .lesson-title, .vocab-key:before { font-size:"+20*n+"px }.section-title, #exercise-title, #break-timer, #announcement .fa { font-size:"+24*n+"px }.kanji-readings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item { font-size:"+26*n+"px }.title { font-size:"+28*n+"px }.result-label { width:"+150*n+"px }.kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { width:"+35*n+"px }.problem-hint, .problem-answer { height:"+20*n+"px }#quiz-progress, #quiz-progress-bar { height:"+25*n+"px }#genki-site-settings { height:"+26*n+"px }.kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .drag-quiz .quiz-item, .drag-quiz .quiz-answer-zone { height:"+28*n+"px }.vocab-key:before, .kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { height:"+30*n+"px }#genki-modal-buttons, #genki-modal-header { height:"+40*n+"px }.kanji-meanings.drag-quiz .quiz-answer-zone, .kanji-meanings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz .quiz-answer-zone, .kanji-readings.drag-quiz .quiz-answer-zone, .kanji-readings.drag-quiz .quiz-item { height:"+48*n+"px }#announcement { height:"+105*n+"px }#announcement .announcement { height:"+70*n+"px }.secondary-answer { line-height:"+10*n+"px; }#exercise-list li a[data-page]:focus:after, #exercise-list li a[data-page]:hover:after { line-height:"+12*n+"px; }.writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before { line-height:"+15*n+"px; }.kanji-readings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .kanji-meanings.drag-quiz .vocab-horizontal #question-list .quiz-answer-zone .quiz-item, .drag-quiz .quiz-item, .drag-quiz .quiz-answer-zone, .problem-hint, .problem-answer { line-height:"+20*n+"px; }.kana-quiz .quiz-answer-zone:empty, .kana-quiz .quiz-item { line-height:"+22*n+"px; }#genki-site-settings, #quiz-progress-text { line-height:"+26*n+"px; }#quick-jisho-title { line-height:"+32*n+"px; }.vocab-key:before { line-height:"+34*n+"px; }#genki-modal-buttons, #genki-modal-header { line-height:"+40*n+"px; }.kanji-readings.drag-quiz #question-list .quiz-item, .kanji-meanings.drag-quiz #question-list .quiz-item { line-height:"+44*n+"px; }.vocab-key { padding-top:"+30*n+"px; }.writing-quiz .helper-present #question-list .quiz-item[data-helper] { margin-bottom:"+3*n+"px; }.quiz-multi-answer.next-question:before { margin-top:-"+9*n+"px; }.quiz-multi-answer:before { margin-top:-"+10*n+"px; }.writing-quiz .quiz-answer-row.furi-row { margin-bottom:"+12*n+"px; }.def-ja.def-furi { margin-bottom:"+15*n+"px; }.vocab-horizontal.helper-present #question-list .quiz-item, .helper-present #question-list .quiz-item[data-helper], .helper-present #drop-list .quiz-answer-zone.helper-answer { margin-bottom:"+18*n+"px; }.problem-hint, .problem-answer { margin-bottom:-"+20*n+"px; }.fill-quiz .small-margin .block, .fill-quiz .small-margin .problem { margin-bottom:"+25*n+"px; }.question-block { margin:"+30*n+"px 0; }.fill-quiz .big-margin, .fill-quiz .example-problem, .fill-quiz .problem, .fill-quiz.quiz-over td .writing-zone { margin-bottom:"+40*n+"px; }.kana-quiz .answer-correct .quiz-item:before { top:-"+5*n+"px; right:-"+8*n+"px; }.writing-quiz .quiz-item:before, .helper-present #question-list .quiz-item:before, .def-ja.def-furi i { bottom:-"+15*n+"px }.question-block:after { top:-"+20*n+"px }.quiz-multi-answer:before { left:-"+25*n+"px }#genki-modal-content { top:"+40*n+"px }#genki-modal-content { bottom:"+40*n+"px }#wrongAnswer:before { right:-"+70*n+"px }.quiz-over [data-mistakes]:after { right:-"+85*n+"px }#genki-modal-body { top:"+10/n+"%; left:"+25/n+"%; right:"+25/n+"%; bottom:"+40/n+"%; }#exercise-list { width:"+300*n+"px; left:-"+301*n+"px; }#toggle-exercises.list-open { left:"+(300*n-30)+"px; }#quick-jisho-window { height:"+300*n+"px; width:"+500*n+"px; }#quick-jisho-window.quick-jisho-hidden { bottom:-"+310*n+"px; }#quick-jisho-results { height:"+219*n+"px; }#quick-jisho-search { height:"+35*n+"px; }.quick-jisho-row, #quick-jisho-results { padding:"+3*n+"px; }#quick-jisho-selector { border-radius:"+15*n+"px; }#quick-nav-list a.sub-section-button { font-size:"+11*n+"px; height:"+18*n+"px; width:"+18*n+"px; line-height:"+20*n+"px; left:-"+22*n+"px; }#quick-nav-list li:before { height:"+6*n+"px; width:"+6*n+"px; left:-"+16*n+"px; }#quick-nav-list li ul li:before { height:"+4*n+"px; width:"+4*n+"px; }.button.play-button { height:"+25*n+"px; width:"+25*n+"px; }.button.play-button i { font-size:"+14*n+"px; }.example-problem:before { font-size:"+12*n+"px; line-height:"+12*n+"px; padding:"+2*n+"px; border-radius:"+5*n+"px; }.example-problem.inline-columns { padding-left:"+62*n+"px; }ruby { bottom:-"+16*n+"px; margin:-"+16*n+"px 0 "+16*n+"px 0 }ruby rt { height:"+15*n+"px; line-height:"+15*n+"px; margin-top:-"+1*n+"px; }.fill-quiz .writing-zone-input, .section-title { border-bottom-width:"+2*n+"px; }.sectionNumber3rd, .section-number { width:"+22*n+"px; height:"+22*n+"px; line-height:"+21*n+"px; }#quiz-info { padding:"+15*n+"px "+15*n+"px "+15*n+"px "+50*n+"px; }#quiz-info:before { font-size:"+32*n+"px; margin-top:-"+16*n+"px; left:"+12*n+"px; }#announcement .announce-controls { margin-top:-"+15*n+"px; height:"+30*n+"px; width:"+20*n+"px; }#announcement .announce-controls i.fa { font-size:"+18*n+"px; line-height:"+26*n+"px; }#announcement .announce-controls.button-left { left:-"+20*n+"px; }#announcement .announce-controls.button-right { right:-"+20*n+"px; }#announce-list { margin:0 "+20*n+"px; }.drawing-quiz .stroke-order-button, .dictionary-group .group-selectors .button, .dict-search-wrapper .group-selectors .button, .button.icon-only, .kanji-stroke-order, .kanji-stroke-order .button, .drawing-zone { font-size:13px }.dictionary-group .group-selectors .deselect-all:before, .dictionary-group .group-selectors .select-all:before, .dict-search-wrapper .group-selectors .deselect-all:before, .dict-search-wrapper .group-selectors .select-all:before { font-size:17px }.button.icon-only .fa, #random-exercise i { font-size:18px }/*FONT-SIZE-END*/",e))for(var o=t.querySelectorAll("[data-default-width]"),s=0,a=o.length;s<a;s++)o[s].style.width=o[s].dataset.defaultWidth*n+"px";e&&(localStorage.genkiFontSize=e.value)},updateRandomExercise:function(e){e&&(localStorage.genkiRandomExercise=e.value)},createStylesheet:function(){GenkiSettings.stylesheet||(GenkiSettings.stylesheet=t.createElement("STYLE"),GenkiSettings.stylesheet.type="text/css",t.getElementsByTagName("HEAD")[0].appendChild(GenkiSettings.stylesheet))}},storageOK&&(GenkiSettings.createStylesheet(),localStorage.genkiFontSize&&"100"!=localStorage.genkiFontSize&&GenkiSettings.updateFontSize(!1,!0),localStorage.genkiPageWidth&&"100"!=localStorage.genkiPageWidth&&GenkiSettings.updatePageWidth(!1,!0)),storageOK&&"on"==localStorage.darkMode&&(t.write('<link id="dark-mode" href="'+getPaths()+'resources/css/stylesheet-dark.min.css" rel="stylesheet">'),t.documentElement.className+=" dark-mode"),e.preLoadFonts=function(){for(var i,n=function(){if(e.KanjiCanvas)for(var i=t.querySelectorAll(".kanji-canvas"),n=0,o=i.length;n<o;n++)KanjiCanvas["canvas_"+i[n].id]&&KanjiCanvas.redraw(i[n].id,!0)},o=arguments,s=0,a=arguments.length,r="",l="";s<a;s++)l+=(i=o[s].replace(/\..*?$/,""))+(s==a-1?"":", "),r+='@font-face {font-family:"'+i+'";src:url('+getPaths()+"resources/fonts/"+o[s]+') format("'+(/otf/.test(o[s])?"opentype":"truetype")+'");}\n';t.write("<style>"+r+"</style>"),t.fonts&&t.fonts.load?t.fonts.load("10px "+l).then(n):(t.write('<span style="font-family:'+l+';opacity:0;position:absolute;font-size:0;height:0;width:0;">'+l+"</span>"),e.setTimeout(n,1500))},navigator.cookieEnabled||console.warn("Cookies are not available either due to host or browser settings. Genki Study Resources will function in limited mode where settings are not remembered and certain features are unavailable. This issue can commonly be resolved by enabling third-party cookies. Please see the following page for help.\nhttps://sethclydesdale.github.io/genki-study-resources/help/stuck-loading/\n\nIf the issue still occurs after enabling third-party cookies, please contact the developer for further assistance.\nhttps://github.com/SethClydesdale/genki-study-resources/issues")}(window,document);