!function(e,t){"use strict";e.GenkiModal={open:function(o){o=o||{},GenkiModal.close();var n,i,l=t.createElement("DIV");l.id="genki-modal",l.innerHTML='<div id="genki-modal-overlay"></div><div id="genki-modal-body"><h2 id="genki-modal-header">'+(o.title?o.title:"Popup")+'</h2><div id="genki-modal-content">'+(o.content?o.content:"")+'</div><div id="genki-modal-buttons" class="center"><button id="genki-modal-close" class="button" onclick="GenkiModal.close();">Close</button></div></div>',o.callback&&(n=t.createElement("BUTTON"),i=l.querySelector("#genki-modal-buttons"),n.innerText=o.buttonText?o.buttonText:"OK",n.id="genki-modal-ok",n.className="button",n.onclick=function(){o.callback(),!o.keepOpen&&GenkiModal.close()},i.insertBefore(n,i.firstChild)),t.body.style.overflow="hidden",t.body.appendChild(l),o.focus?t.querySelector(o.focus).focus():o.noFocus||t.getElementById("genki-modal-"+(o.callback?"ok":"close")).focus(),e.Genki&&Genki.timer&&Genki.timer.isRunning()&&Genki.timer.pause()},close:function(){var o=t.getElementById("genki-modal");o&&(t.body.style.overflow="",t.body.removeChild(o)),e.Genki&&Genki.timer&&Genki.timer.isPaused()&&Genki.timer.start()}},e.getPaths=function(){var t=e.location.pathname;return/\/lessons\//.test(t)?"../../../":/\/help\/.*?\//.test(t)?"../../":/\/report\/|\/download\/|\/privacy\/|\/help\/(index|$)/.test(t)?"../":""},e.localStorage&&"on"==e.localStorage.darkMode&&(t.write('<link id="dark-mode" href="'+getPaths()+'resources/css/stylesheet-dark.min.css" rel="stylesheet">'),t.documentElement.className+=" dark-mode")}(window,document);